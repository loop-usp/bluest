{
	"name": "Event sheet_Running",
	"events": [
		{
			"eventType": "variable",
			"name": "TotalDistance",
			"type": "number",
			"initialValue": "0",
			"comment": "The total distance run so far, in pixels.",
			"isStatic": false,
			"isConstant": false,
			"sid": 574560733041731
		},
		{
			"eventType": "variable",
			"name": "CurrentDistance",
			"type": "number",
			"initialValue": "0",
			"comment": "Counts up to 'NextBlock', at which point a new block is created.",
			"isStatic": false,
			"isConstant": false,
			"sid": 259965837974893
		},
		{
			"eventType": "variable",
			"name": "NextBlock",
			"type": "number",
			"initialValue": "600",
			"comment": "The distance after which to create the next block.",
			"isStatic": false,
			"isConstant": false,
			"sid": 245594183708043
		},
		{
			"eventType": "variable",
			"name": "BgSpeed",
			"type": "number",
			"initialValue": "200",
			"comment": "Velocidade na qual o background irá se movimentar",
			"isStatic": false,
			"isConstant": true,
			"sid": 954858647379334
		},
		{
			"eventType": "variable",
			"name": "PlayerGravity",
			"type": "number",
			"initialValue": "1100",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 344844327215360
		},
		{
			"eventType": "variable",
			"name": "GroundSpeed",
			"type": "number",
			"initialValue": "200",
			"comment": "Velocidade do chão",
			"isStatic": false,
			"isConstant": false,
			"sid": 509221800147304
		},
		{
			"eventType": "variable",
			"name": "PosYPreviousGround",
			"type": "number",
			"initialValue": "445",
			"comment": "Posição y do chão anterior ao chão atual",
			"isStatic": false,
			"isConstant": false,
			"sid": 872054791460260
		},
		{
			"eventType": "variable",
			"name": "MaxGroundSpeed",
			"type": "number",
			"initialValue": "500",
			"comment": "Velocidade máxima que o chão vai andar",
			"isStatic": false,
			"isConstant": true,
			"sid": 776429999940018
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "HOME",
					"sid": 666548714913082
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 708458862166591,
					"parameters": {
						"layout": "Layout_Principal"
					}
				}
			],
			"sid": 380351998870111
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "VOLTAR_RUNNING_PARQUE",
					"sid": 115843810086329
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 240060386542392,
					"parameters": {
						"layout": "Parque"
					}
				}
			],
			"sid": 801481799103041
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "VOLTAR_RUNNING_SAPATARIA",
					"sid": 280109192410258
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 329822380431416,
					"parameters": {
						"layout": "Layout_Cesta_Sapataria"
					}
				}
			],
			"sid": 841139008126457
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "VOLTAR_RUNNING_PUB",
					"sid": 933044954878980
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 498320071385937,
					"parameters": {
						"layout": "PUB"
					}
				}
			],
			"sid": 328747653439309
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Ao começo do Layout",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Make sure everything moves left across the screen (since the default 0 degrees is right)"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 434073748879753
						}
					],
					"actions": [
						{
							"id": "set-gravity",
							"objectClass": "Player",
							"sid": 549784550997455,
							"behaviorType": "Platform",
							"parameters": {
								"gravity": "PlayerGravity"
							}
						},
						{
							"id": "set-jump-strength",
							"objectClass": "Player",
							"sid": 956383083715621,
							"behaviorType": "Platform",
							"parameters": {
								"jump-strength": "300"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 472081988188105,
							"parameters": {
								"object-to-create": "chao_parque",
								"layer": "\"Game\"",
								"x": "0",
								"y": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-position",
							"objectClass": "chao_parque",
							"sid": 615028848295898,
							"parameters": {
								"x": "513",
								"y": "511"
							}
						},
						{
							"id": "set-size",
							"objectClass": "chao_parque",
							"sid": 545845990290509,
							"parameters": {
								"width": "919",
								"height": "78"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 536436444427501,
							"parameters": {
								"variable": "PosYPreviousGround",
								"value": "chao_parque.Y"
							}
						}
					],
					"sid": 473605913898936
				}
			],
			"sid": 979984130120441
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Comportamento do Background",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "São 2 backgrounds, quando um sai completamente da tela ele vai para o final da tela e assim por diante."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 903752210478154
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "background_parque",
							"sid": 931173003890695,
							"parameters": {
								"x": "background_parque.X - BgSpeed * dt"
							}
						}
					],
					"sid": 769958578921121
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-x",
							"objectClass": "background_parque",
							"sid": 345893420453453,
							"parameters": {
								"comparison": 3,
								"x-co-ordinate": "-background_parque.Width"
							}
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "background_parque",
							"sid": 852894750805032,
							"parameters": {
								"x": "background_parque.X + 2 * background_parque.Width"
							}
						}
					],
					"sid": 802582740903596
				}
			],
			"sid": 588507047550514
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Comportamento do Player",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Due to the acceleration of the platform movement, we need to do some tweaks to make sure the player doesn't gradually get pushed off to the left of the screen over time."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-x",
							"objectClass": "Player",
							"sid": 600334439159655,
							"parameters": {
								"comparison": 2,
								"x-co-ordinate": "105"
							}
						},
						{
							"id": "is-on-floor",
							"objectClass": "Player",
							"sid": 933385480660782,
							"behaviorType": "Platform",
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "Player",
							"sid": 181320334115201,
							"parameters": {
								"x": "Self.X + 5 * dt"
							}
						}
					],
					"sid": 512176763252053,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-landed",
							"objectClass": "Player",
							"sid": 876190628965201,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "Player",
							"sid": 444859962527546,
							"parameters": {
								"x": "Self.X + 1"
							}
						}
					],
					"sid": 295796944760610,
					"disabled": true
				},
				{
					"eventType": "comment",
					"text": "No chão rode a animação do chão, se não rode a animação de pulo. (A parte do definir X compensa o \"arrastamento\" causado pelo chão no player quando ele está em cima do chão)"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-floor",
							"objectClass": "Player",
							"sid": 299577223207626,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Player",
							"sid": 621566213263962,
							"parameters": {
								"animation": "\"Default\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-x",
							"objectClass": "Player",
							"sid": 446356698227325,
							"parameters": {
								"x": "Player.X + GroundSpeed * dt"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Player",
							"sid": 509604750074160,
							"disabled": true,
							"parameters": {
								"instance-variable": "canPlaySound",
								"value": "true"
							}
						}
					],
					"sid": 937859561850978
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-jumping",
							"objectClass": "Player",
							"sid": 576230588490443,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Player",
							"sid": 855169983996174,
							"parameters": {
								"animation": "\"jump\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-x",
							"objectClass": "Player",
							"sid": 221751172994224,
							"disabled": true,
							"parameters": {
								"x": "Player.X + GroundSpeed * dt"
							}
						}
					],
					"sid": 456359249129694
				},
				{
					"eventType": "comment",
					"text": "Pulo do player."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-touch-start",
							"objectClass": "Touch",
							"sid": 803200556703805
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Player",
							"sid": 635410288346750,
							"parameters": {
								"instance-variable": "is_holding_jump",
								"value": "true"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "Player",
							"sid": 410309471667545,
							"behaviorType": "Cronômetro",
							"parameters": {
								"duration": "0.3",
								"type": "once",
								"tag": "\"jump_timer\""
							}
						},
						{
							"id": "simulate-control",
							"objectClass": "Player",
							"sid": 884024107675621,
							"behaviorType": "Platform",
							"parameters": {
								"control": "jump"
							}
						}
					],
					"sid": 236395111420304,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Player",
									"sid": 987578616774384,
									"parameters": {
										"instance-variable": "canPlaySound"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Adicionar um som e habilitar essa parte"
								},
								{
									"id": "play",
									"objectClass": "Áudio",
									"sid": 120613939515946,
									"disabled": true,
									"parameters": {
										"audio-file": "wop",
										"loop": "not-looping",
										"volume": "10",
										"tag-optional": "\"jump_sound\""
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "Player",
									"sid": 720631725399106,
									"parameters": {
										"instance-variable": "canPlaySound",
										"value": "false"
									}
								}
							],
							"sid": 132519961742481
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-touch-end",
							"objectClass": "Touch",
							"sid": 716904272598009
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Player",
							"sid": 605211906880601,
							"parameters": {
								"instance-variable": "is_holding_jump",
								"value": "false"
							}
						}
					],
					"sid": 465611266511961
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-ended",
							"objectClass": "Áudio",
							"sid": 377648404783902,
							"parameters": {
								"tag": "\"jump_sound\""
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Player",
							"sid": 132996210097963,
							"parameters": {
								"instance-variable": "canPlaySound",
								"value": "true"
							}
						}
					],
					"sid": 743687586533021
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Player",
							"sid": 749419929425959,
							"parameters": {
								"instance-variable": "is_holding_jump"
							}
						}
					],
					"actions": [
						{
							"id": "set-gravity",
							"objectClass": "Player",
							"sid": 990553275490622,
							"behaviorType": "Platform",
							"parameters": {
								"gravity": "0"
							}
						}
					],
					"sid": 873625511197370
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Player",
							"sid": 215318915972059,
							"parameters": {
								"instance-variable": "is_holding_jump"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-gravity",
							"objectClass": "Player",
							"sid": 372754285934068,
							"behaviorType": "Platform",
							"parameters": {
								"gravity": "PlayerGravity"
							}
						}
					],
					"sid": 468063636226737
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "Player",
							"sid": 233465769307203,
							"behaviorType": "Cronômetro",
							"parameters": {
								"tag": "\"jump_timer\""
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Player",
							"sid": 193521513643085,
							"parameters": {
								"instance-variable": "is_holding_jump",
								"value": "false"
							}
						}
					],
					"sid": 129360799150394
				},
				{
					"eventType": "comment",
					"text": "Morte do Player. (Quando ele cai)"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-y",
							"objectClass": "Player",
							"sid": 621556006571636,
							"parameters": {
								"comparison": 4,
								"y-co-ordinate": "LayoutHeight"
							}
						}
					],
					"actions": [
						{
							"id": "reset-global-variables",
							"objectClass": "System",
							"sid": 307520298034708
						},
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 621282364127859
						}
					],
					"sid": 415536878073646
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-x",
							"objectClass": "Player",
							"sid": 146875610159816,
							"parameters": {
								"comparison": 2,
								"x-co-ordinate": "-Player.Width"
							}
						}
					],
					"actions": [
						{
							"id": "reset-global-variables",
							"objectClass": "System",
							"sid": 184981248174723
						},
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 118667628789141
						}
					],
					"sid": 315136781639553
				}
			],
			"sid": 389832951352634
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Comportamento do Chão",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 829111917997535
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "chao_parque",
							"sid": 357653416829046,
							"parameters": {
								"x": "chao_parque.X - GroundSpeed * dt"
							}
						},
						{
							"id": "set-x",
							"objectClass": "obstaculo",
							"sid": 725305467362201,
							"disabled": true,
							"parameters": {
								"x": "obstaculo.X - GroundSpeed * dt"
							}
						}
					],
					"sid": 944401321644572
				},
				{
					"eventType": "comment",
					"text": "Destrói os blocos que somem da tela."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-x",
							"objectClass": "chao_parque",
							"sid": 149462027376186,
							"parameters": {
								"comparison": 3,
								"x-co-ordinate": "- chao_parque.Width"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "chao_parque",
							"sid": 281187151931671
						}
					],
					"sid": 205839658325612
				},
				{
					"eventType": "comment",
					"text": "Blocos geram novos blocos."
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [],
					"sid": 412135349815384
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-x",
							"objectClass": "chao_parque",
							"sid": 591520320663690,
							"parameters": {
								"comparison": 2,
								"x-co-ordinate": "LayoutWidth - chao_parque.Width"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "chao_parque",
							"sid": 320900351809966,
							"parameters": {
								"instance-variable": "GeneratedBlock"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "S = S0 + V0t + 1/2gt^2"
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 867639366253600,
							"parameters": {
								"instance-variable": "t",
								"value": "Player.Platform.JumpStrength / Player.Platform.Gravity"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 932024507055469,
							"parameters": {
								"instance-variable": "MaxHeight",
								"value": "(Player.Y + Player.Height) - Player.Platform.JumpStrength * Player.t + (Player.t*Player.t) * Player.Platform.Gravity * 1/2"
							}
						},
						{
							"type": "comment",
							"text": "Gerar o chão"
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "chao_parque",
							"sid": 472620451125788,
							"parameters": {
								"instance-variable": "GeneratedBlock",
								"value": "true"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 728819453209938,
							"parameters": {
								"variable": "PosYPreviousGround",
								"value": "chao_parque.Y"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 449789509492430,
							"parameters": {
								"object-to-create": "chao_parque",
								"layer": "\"Game\"",
								"x": "0",
								"y": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-size",
							"objectClass": "chao_parque",
							"sid": 471750651152810,
							"parameters": {
								"width": "random(600,1000)",
								"height": "LayoutHeight - chao_parque.Y"
							}
						},
						{
							"id": "set-position",
							"objectClass": "chao_parque",
							"sid": 421694260854565,
							"parameters": {
								"x": "LayoutWidth + random(180, 270)",
								"y": "random(PosYPreviousGround - Player.Height, LayoutHeight - 50)"
							}
						}
					],
					"sid": 297759006529784
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-width",
							"objectClass": "chao_parque",
							"sid": 648401131936149,
							"parameters": {
								"comparison": 4,
								"width": "800"
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 617242172420926,
							"parameters": {
								"object-to-create": "obstaculo",
								"layer": "0",
								"x": "0",
								"y": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-position",
							"objectClass": "obstaculo",
							"sid": 288383546555304,
							"parameters": {
								"x": "chao_parque.X + random(100, 700)",
								"y": "chao_parque.Y - obstaculo.Height"
							}
						}
					],
					"sid": 807466170721703,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [],
					"sid": 102185983889661
				}
			],
			"sid": 176107842621204
		},
		{
			"eventType": "comment",
			"text": "Keep incrementing the current and total distances, and display the total distance in a text object."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 218347622846592
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "DistanceDisplay",
					"sid": 155058412664906,
					"parameters": {
						"text": "round(TotalDistance)"
					}
				},
				{
					"id": "add-to-eventvar",
					"objectClass": "System",
					"sid": 463996662912507,
					"parameters": {
						"variable": "TotalDistance",
						"value": "GroundSpeed * dt"
					}
				}
			],
			"sid": 444860445038350
		},
		{
			"eventType": "comment",
			"text": "Once CurrentDistance reaches NextBlock, it is time to create a new block.  Create it with a random width and height, then position it just off the right edge of the screen.  Make it move to the left again, then set NextBlock to create another block a random distance after this one."
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 672849116858421,
					"parameters": {
						"variable": "CurrentDistance",
						"comparison": 5,
						"value": "NextBlock"
					}
				}
			],
			"actions": [
				{
					"id": "subtract-from-eventvar",
					"objectClass": "System",
					"sid": 830436640304538,
					"parameters": {
						"variable": "CurrentDistance",
						"value": "NextBlock"
					}
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 956842111944400,
					"parameters": {
						"object-to-create": "chao_parque",
						"layer": "\"Game\"",
						"x": "0",
						"y": "0",
						"create-hierarchy": false
					}
				},
				{
					"id": "set-size",
					"objectClass": "chao_parque",
					"sid": 598541880396923,
					"parameters": {
						"width": "100 + random(400)",
						"height": "60 + random(180)"
					}
				},
				{
					"id": "set-position",
					"objectClass": "chao_parque",
					"sid": 967109976480974,
					"parameters": {
						"x": "LayoutWidth",
						"y": "LayoutHeight - Self.Height"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 150277616277185,
					"parameters": {
						"variable": "NextBlock",
						"value": "chao_parque.Width + 20 + random(200)"
					}
				}
			],
			"sid": 794183409196615,
			"disabled": true
		},
		{
			"eventType": "block",
			"conditions": [],
			"actions": [],
			"sid": 318802398867970
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 500550163427658,
					"parameters": {
						"interval-seconds": "0.5"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 770493202033447,
					"parameters": {
						"variable": "GroundSpeed",
						"comparison": 2,
						"value": "651"
					}
				}
			],
			"actions": [
				{
					"id": "add-to-eventvar",
					"objectClass": "System",
					"sid": 789709990184759,
					"parameters": {
						"variable": "GroundSpeed",
						"value": "25"
					}
				}
			],
			"sid": 645396546738242
		},
		{
			"eventType": "comment",
			"text": "Ir para a próxima cena quando chegar a uma distância X"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 430266630519444,
					"parameters": {
						"variable": "TotalDistance",
						"comparison": 0,
						"value": "40000"
					}
				}
			],
			"actions": [],
			"sid": 989636549975831
		}
	],
	"sid": 453506405208434
}